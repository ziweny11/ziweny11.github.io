!function(){"use strict";function e(){function e(e){const t=r[e],i=o.closest("picture"),n=i?i.querySelector("img"):o;if(n){n.removeAttribute("srcset");const e=i?i.querySelector("source"):null;e&&(e.style.display="none"),n.style.transition="opacity 0.2s ease-in-out",n.style.opacity="0",setTimeout((()=>{n.src=t;const e=new Image;e.onload=function(){n.style.opacity="1"},e.onerror=function(){n.style.opacity="1"},e.src=t}),100)}}function t(e){n.forEach((t=>{t.getAttribute("data-image")===e?t.classList.add("active"):t.classList.remove("active")}))}const o=document.querySelector(".profile-image-switchable img"),i=document.querySelector(".profile-image-switcher");if(!o||!i)return;const n=i.querySelectorAll(".profile-switch-dot"),c=(window.location.pathname.replace(/\/[^/]*$/,"")||"")+"/assets/img/",r={"ziwen_profile_1.jpg":c+"ziwen_profile_1.jpg","ziwen_profile_2.jpg":c+"ziwen_profile_2.jpg"},a=localStorage.getItem("profileImage")||"ziwen_profile_1.jpg";"ziwen_profile_1.jpg"!==a&&r[a]&&(e(a),t(a)),n.forEach((o=>{o.addEventListener("click",(function(){const o=this.getAttribute("data-image");r[o]&&(e(o),t(o),localStorage.setItem("profileImage",o))}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();